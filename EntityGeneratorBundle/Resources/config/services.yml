services:
  _defaults:
    autowire: true
    autoconfigure: true
    public: true

  Symfony\Bundle\MakerBundle\Util\ComposerAutoloaderFinder:
    arguments:
      $rootNamespace: ''
  Symfony\Bundle\MakerBundle\Util\AutoloaderUtil: ~

  IvozDevTools\EntityGeneratorBundle\Generator:
    arguments:
      $fileManager: '@maker.file_manager'
      $namespacePrefix: ''
      $autoloaderUtil: '@Symfony\Bundle\MakerBundle\Util\AutoloaderUtil'

  IvozDevTools\EntityGeneratorBundle\Maker\MakeEntities:
    arguments:
      $fileManager: '@maker.file_manager'
      $doctrineHelper: '@maker.doctrine_helper'
      $generator: '@IvozDevTools\EntityGeneratorBundle\Generator'

  IvozDevTools\EntityGeneratorBundle\Command\MakeEntitiesCommand:
    arguments:
      $maker: '@IvozDevTools\EntityGeneratorBundle\Maker\MakeEntities'
      $fileManager: '@maker.file_manager'
      $generator: '@IvozDevTools\EntityGeneratorBundle\Generator'
    tags: [{ name: 'console.command' }]

  provider.make.entities:
    deprecated: "%service_id% is deprecated: use ivoz:make:entities instead"
    class: IvozDevTools\EntityGeneratorBundle\Command\MakeEntitiesCommand
    arguments:
      $maker: '@IvozDevTools\EntityGeneratorBundle\Maker\MakeEntities'
      $fileManager: '@maker.file_manager'
      $generator: '@IvozDevTools\EntityGeneratorBundle\Generator'
    tags: [{ name: 'console.command', command: 'provider:make:entities' }]

  IvozDevTools\EntityGeneratorBundle\Command\UpdateServiceCollectionsCommand:
    tags: [{ name: 'console.command' }]

  provider.update.service_collections:
    deprecated: "%service_id% is deprecated: use ivoz:update:service_collections instead"
    class: IvozDevTools\EntityGeneratorBundle\Command\UpdateServiceCollectionsCommand
    tags: [{ name: 'console.command', command: 'provider:update:service_collections'}]

  IvozDevTools\EntityGeneratorBundle\Doctrine\Metadata\ClassMetadataFactory: ~

doctrine:
  orm:
    class_metadata_factory_name:  IvozDevTools\EntityGeneratorBundle\Doctrine\Metadata\ClassMetadataFactory
